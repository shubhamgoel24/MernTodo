<!DOCTYPE html>
<html>
    <head>
        <title>
            <%= title%>
        </title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/71fe6befa9.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="./css/home.css">
    </head>
    <body>
        <div class="container">
            <div class="row">
                <h1>ToDo List App</h1>
            </div>
            <form action="/create-Task" id="new-task-form" method="POST">
                <div class="row">
                    <div id="description">
                        <h4>Description</h4>
                        <input type="text" name="description" placeholder="What do you need to do ?"  >
                    </div>
                </div>
                
                <div class="row">
                    <div id="category" class="col-6" >
                        <h4>Category</h4>
                        <select name="category" id="catego" >
                            <option value="" disabled selected hidden>Choose Category</option>
                            <option value="Personal">Personal</option>
                            <option value="Work">Work</option>
                            <option value="School">School</option>
                            <option value="Cleaning">Cleaning</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div id="date" class="col-6">
                        <h4>Due Date</h4>
                        <input type="date" name="date" id="date-input" required>
                    </div>
                </div>
                <div class= "row d-flex justify-content-center button_row">
                    <button id="del" class=" col-5 col-sm-4 col-md-3 col-lg-2" type="button"><i class="fas fa-trash"></i> Delete</button>
                    <button id="add" class=" col-5 col-sm-4 col-md-3 col-lg-2" type="submit"><i class="fas fa-plus"></i> Add</button>
                </div>
            </form>
            
            

            

            <div>
                <ul class="container task_list" id="tasks-list-container">
                    <% for (let i of task){ %>
                        <li class="row item" id="<%= i._id %>">
                            <input type="checkbox" class="col-1 listitem" id="<%= i._id %>">
                            <div class="col-5">
                                <div id="taskdisc" class="row"><%= i.description %></div>
                                <div id="taskdate" class="row"> <%= Intl.DateTimeFormat('en-GB', options1 = { /*weekday: 'long',*/ year: 'numeric', month: 'long', day: 'numeric' }).format(i.date) %></div>
                            </div>
                            <div class="col-6">
                                <div class="row d-flex justify-content-end"><%= i.category %></div>
                            </div>
                        </li>
                    <% } %>
                </ul>
                <div>
                    To delete a task: <br>
                    First select the task using the checkbox.Then click the delete button.
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script src="./js/home.js"></script>
    </body>
</html>